{"ast":null,"code":"import _regeneratorRuntime from\"D:/spatiu de lucru/Portofolio/my-portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/spatiu de lucru/Portofolio/my-portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/spatiu de lucru/Portofolio/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{useDispatch,useSelector}from'react-redux';import{updateField,resetForm}from'../features/contactSlice';// Replace with your actual RootState\nimport{Button,Container,Alert}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contact=function Contact(){var dispatch=useDispatch();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];var formData=useSelector(function(state){return state.contact;});// Replace 'state.contact' based on your actual state structure\nvar handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;dispatch(updateField({field:name,value:value}));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('https://sheltered-forest-33596.herokuapp.com/api/sendEmail',formData);case 4:response=_context.sent;if(response.data==='Email sent'){setSuccess(true);setError(null);console.log('Email successfully sent');dispatch(resetForm());}_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError('There was an error sending the email');setSuccess(false);console.error('There was an error sending the email',_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-primary\",children:\"Contact Me\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:\"Email successfully sent!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name\",className:\"mb-2 mt-5\",value:formData.name,onChange:handleInputChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Email\",className:\"mb-2\",value:formData.email,onChange:handleInputChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",placeholder:\"Message\",value:formData.message,onChange:handleInputChange})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Send Message\"})]})]});};export default Contact;","map":{"version":3,"names":["React","useState","axios","useDispatch","useSelector","updateField","resetForm","Button","Container","Alert","jsx","_jsx","jsxs","_jsxs","Contact","dispatch","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","success","setSuccess","formData","state","contact","handleInputChange","e","_e$target","target","name","value","field","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","post","sent","data","console","log","t0","stop","_x","apply","arguments","children","className","variant","onSubmit","type","id","placeholder","onChange","email","message"],"sources":["D:/spatiu de lucru/Portofolio/my-portfolio/src/components/Contact.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateField, resetForm, ContactState } from '../features/contactSlice';\r\nimport { RootState } from '../app/store';  // Replace with your actual RootState\r\nimport { Button, Container, Alert } from 'react-bootstrap';\r\n\r\nconst Contact: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<boolean>(false);\r\n\r\n  const formData = useSelector((state: RootState) => state.contact);  // Replace 'state.contact' based on your actual state structure\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    dispatch(updateField({ field: name as keyof ContactState, value }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post('https://sheltered-forest-33596.herokuapp.com/api/sendEmail', formData);\r\n      if (response.data === 'Email sent') {\r\n        setSuccess(true);\r\n        setError(null);\r\n        console.log('Email successfully sent');\r\n        dispatch(resetForm());\r\n      }\r\n    } catch (error) {\r\n      setError('There was an error sending the email');\r\n      setSuccess(false);\r\n      console.error('There was an error sending the email', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <h1 className='text-center text-primary'>Contact Me</h1>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      {success && <Alert variant=\"success\">Email successfully sent!</Alert>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <input \r\n            type=\"text\" \r\n            id=\"name\" \r\n            name=\"name\"\r\n            placeholder='Name' \r\n            className='mb-2 mt-5'\r\n            value={formData.name} \r\n            onChange={handleInputChange} \r\n          />\r\n        </div>\r\n        <div>\r\n          <input \r\n            type=\"email\" \r\n            id=\"email\" \r\n            name=\"email\"\r\n            placeholder='Email' \r\n            className='mb-2'\r\n            value={formData.email} \r\n            onChange={handleInputChange} \r\n          />\r\n        </div>\r\n        <div>\r\n          <textarea \r\n            id=\"message\" \r\n            name=\"message\" \r\n            placeholder='Message'\r\n            value={formData.message} \r\n            onChange={handleInputChange} \r\n          ></textarea>\r\n        </div>\r\n        <Button variant='primary' type=\"submit\">Send Message</Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}